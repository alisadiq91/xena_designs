{% extends "base.html" %}
{% load static %}

{% block page_header %}
    <div class="container header-container">
        <div class="row">
            <div class="col"></div>
        </div>
    </div>
{% endblock %}

{% block content %}
<div class="container-fluid py-1">
    
           
        
        
            <video playsinline autoplay muted loop poster="/media/Package.PNG" id="bgvid" >
                <source src="/media/home-video.mp4" type="video/webm">
                <source src="/media/home-video.mp4" type="video/mp4">
            </video>
            <div class="overlay-text p-5">
                <p id="topText">
                    <h1 class="display-4 logo-font text-black my-5">
                    View our collections here!
                    </h1>
                    <h4>
                        <a href="{% url 'products' %}" class="shop-now-button btn btn-light btn-outline-dark btn-lg rounded-0 text-uppercase py-3">Shop Now</a>
                    </h4>
                </p>
            </div>
</div>

<div class="container capitalize text-center my-3 p-3 border">
    <h2 class="font-weight-light">Customer Feedback</h2>
    <div class="row mx-auto my-auto">
        <div id="recipeCarousel" class="carousel slide w-100" data-ride="carousel">
            
            <div class="carousel-inner w-100" role="listbox">
                {% for reviews in review %}
                <div id="activeCarousel" class="text-white carousel-item">
                    
                    <div class="col-md-4 col-sm-12">
                        <div class="card carousel-height card-body bg-dark">
                            <p>{{ reviews.comments }}</p>
                            <p><strong> Date </strong><br>{{ reviews.date_created }}</p>
                            <p><strong> By </strong><br>{{ reviews.creator }}</p>
                        </div>
                    </div>
                    
                </div>
                {% endfor %} 
            </div>
            
            <a class="carousel-control-prev w-auto" href="#recipeCarousel" role="button" data-slide="prev">
                <span class="carousel-control-prev-icon bg-dark border border-dark rounded-circle" aria-hidden="true"></span>
                <span class="sr-only">Previous</span>
            </a>
            <a class="carousel-control-next w-auto" href="#recipeCarousel" role="button" data-slide="next">
                <span class="carousel-control-next-icon bg-dark border border-dark rounded-circle" aria-hidden="true"></span>
                <span class="sr-only">Next</span>
            </a>
        </div>
    </div>
    <h5 class="mt-2 text-muted"><a href="{% url 'reviews' %}">Click to see more</a></h5>
    
</div>

    {% block postloadjs %}
        <script type="text/javascript">

        $(document).ready(function() {
            $('#activeCarousel').addClass('active');
        })
            $('#recipeCarousel').carousel({
  interval: 10000
})

$('.carousel .carousel-item').each(function(){
    var minPerSlide = 3;
    var next = $(this).next();
    if (!next.length) {
    next = $(this).siblings(':first');
    }
    next.children(':first-child').clone().appendTo($(this));
    
    for (var i=0;i<minPerSlide;i++) {
        next=next.next();
        if (!next.length) {
        	next = $(this).siblings(':first');
      	}
        
        next.children(':first-child').clone().appendTo($(this));
      }
});
        </script>

    {% endblock %}
{% endblock %}

